package com.pku.xiaoyoubang.tool;import java.io.BufferedReader;import java.io.File;import java.io.FileInputStream;import java.io.FileOutputStream;import java.io.IOException;import java.io.InputStreamReader;import java.text.SimpleDateFormat;import java.util.ArrayList;import java.util.Date;import java.util.List;import org.json.JSONArray;import org.json.JSONObject;import android.annotation.SuppressLint;import android.content.Context;import android.graphics.Bitmap;import android.graphics.Matrix;import android.media.ExifInterface;import android.net.ConnectivityManager;import android.net.NetworkInfo;import com.pku.xiaoyoubang.entity.AnswerEntity;import com.pku.xiaoyoubang.entity.CommentEntity;import com.pku.xiaoyoubang.entity.InviteEntity;import com.pku.xiaoyoubang.entity.QuestionEntity;@SuppressLint("SimpleDateFormat")public class Tool {	public static String getFullPku( String pku )	{		final int count = Information.PKU2.length;		for( int i = 0; i < count; i ++ )		{			if( Information.PKU2[ i ].equals( pku ) )			{				return "北京大学 " + Information.PKU1[ i ];			}		}		return pku;	}	/**	 *  fetch picture degree	 * @param path	 * @return	 */	public static int getPictureDegree( String path ) 	{	    int degree = 0;	    try 	    {	        ExifInterface exifInterface = new ExifInterface( path );	        int orientation = exifInterface.getAttributeInt( ExifInterface.TAG_ORIENTATION, ExifInterface.ORIENTATION_NORMAL );	        switch( orientation ) 	        {	        case ExifInterface.ORIENTATION_ROTATE_90:	            degree = 90;	            break;	        case ExifInterface.ORIENTATION_ROTATE_180:	            degree = 180;	            break;	        case ExifInterface.ORIENTATION_ROTATE_270:	            degree = 270;	            break;	        }	    } 	    catch( IOException e ) 	    {	        e.printStackTrace();	    }	    return degree;	}	/**	 * 	 * @param bitmap	 * @param degree	 * @return	 */	public static Bitmap roateBitmap( Bitmap bitmap, int degree ) 	{	    if( degree == 0 ) 	    {	        return bitmap;	    }	    Matrix matrix = new Matrix();	    matrix.postRotate( degree );	    Bitmap bmp = Bitmap.createBitmap( bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true );	    return bmp;	}		public static String judgeTimeSymbol( String time )	{		time = time.substring( 0, 19 );		String nowTime = getNowTime();				SimpleDateFormat df = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");		long between = 0;        try         {            Date begin = df.parse( time );            Date end = df.parse( nowTime );            between = ( end.getTime() - begin.getTime() );        }         catch( Exception ex ) {}                long day = between / ( 24 * 60 * 60 * 1000 );        long hour = ( between / ( 60 * 60 * 1000 ) - day * 24 );        long min = ( ( between / ( 60 * 1000 ) ) - day * 24 * 60 - hour * 60 );                if( day > 0 )        {        	return day + "天前";        }        if( hour > 0 )        {        	return hour + "小时前";        }        if( min >= 1 )        {        	return min + "分钟前";        }        return "刚刚";	}		public static String getNowTime()	{		SimpleDateFormat df = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");		return df.format( new Date() );	}		public static String getShowTime( String time )	{		return time.substring( 5, 10 ) + " " + time.substring( 11, 16 );	}		public static boolean judgePhone( String phone )	{		final int count = phone.length();		if( count != 11 )		{			return false;		}		else		{			for( int i = 0; i < count; i ++ )			{				char c = phone.charAt( i );				if( i == 0 && c != '1' )				{					return false;				}				if( c >= '0' && c <= '9' ) 				{					continue;				}				else				{					return false;				}			}		}		return true;	}		public static boolean judgePassword( String password )	{		int length = password.replaceAll( " ", "" ).length();		if( length >= 6 && length <= 16 )		{			return true;		}		return false;	}		public static boolean judgeTextInput( int stringLength, int maxLength, int minLength )	{		if( stringLength < minLength || stringLength > maxLength )		{			return false;		}		return true;	}		public static Bitmap zoomBitmap( Bitmap oldBitmap )	{		final int width = oldBitmap.getWidth();		final int height = oldBitmap.getHeight();		Bitmap newBitmap = null;		if( height >= width )		{			newBitmap = Bitmap.createBitmap( oldBitmap, 0, ( height - width ) / 2, width, width );		}		else		{			newBitmap = Bitmap.createBitmap( oldBitmap, ( width - height ) / 2, 0, height, height );		}		final int min = Math.min( width, height );		Matrix matrix = new Matrix();		float scaleWidth = ( ( float ) 400 / min );        float scaleHeight = ( ( float ) 400 / min );          matrix.postScale( scaleWidth, scaleHeight );        return Bitmap.createBitmap( newBitmap, 0, 0, min, min, matrix, true );	}	/**	 *  判断是否联网	 * @param context	 * @return	 */	public static boolean isNetworkConnected( Context context ) 	{		if( context != null )		{  			ConnectivityManager mConnectivityManager = ( ConnectivityManager ) context.getSystemService( Context.CONNECTIVITY_SERVICE );  			NetworkInfo mNetworkInfo = mConnectivityManager.getActiveNetworkInfo();  			if( mNetworkInfo != null ) 			{  				return mNetworkInfo.isAvailable();  			}  		}		return false;  	}	/**	 *  Write question list to file	 */	public static void writeQuestionListToFile( String jsonString, boolean isAll )	{		try		{			String fileName = Information.File_Path + "question_all.txt";			if( isAll == false )			{				fileName = Information.File_Path + "question_me.txt";			}			File file = new File( fileName );			if( file.exists() )			{				file.delete();			}			file.createNewFile();			FileOutputStream out = new FileOutputStream( file, false );			out.write( jsonString.getBytes( "utf-8" ) );			out.close();		}		catch( Exception ex )		{			ex.printStackTrace();		}	}	/**	 *  Write a full question to a file	 */	public static void writeQuestionInfoToFile( String id, String jsonString )	{		try		{			File file = new File( Information.File_Path + id + ".txt" );			if( file.exists() )			{				file.delete();			}			file.createNewFile();			FileOutputStream out = new FileOutputStream( file, false );			out.write( jsonString.getBytes( "utf-8" ) );			out.close();		}		catch( Exception ex )		{			ex.printStackTrace();		}	}	/**	 *  Write a full question to a file	 */	public static void writeQuestionInfoToFile( String id, QuestionEntity entity )	{		try		{			JSONObject object = new JSONObject();						object.put( "id", entity.getId() );			object.put( "title", entity.getQuestionTitle() );			object.put( "info", entity.getQuestionInfo() );			object.put( "answerCount", entity.getAnswerCount() );			object.put( "praiseCount", entity.getPraiseCount() );			object.put( "createTime", entity.getCreateTime() );			object.put( "modifyTime", entity.getModifyTime() );			object.put( "updateTime", entity.getUpdateTime() );						JSONArray answerArray = new JSONArray();			final int answerCount = entity.getAnswerList().size();			for( int i = 0; i < answerCount; i ++ )			{				JSONObject answerObject = new JSONObject();				AnswerEntity answerEntity = entity.getAnswerList().get( i );								answerObject.put( "id", answerEntity.getId() );				answerObject.put( "createTime", answerEntity.getCreateTime() );				answerObject.put( "modifyTime", answerEntity.getModifyTime() );				answerObject.put( "content", answerEntity.getAnswerInfo() );				answerObject.put( "questionId", entity.getId() );				answerObject.put( "headUrl", answerEntity.getUserHeadUrl() );				answerObject.put( "name", answerEntity.getName() );				answerObject.put( "company", answerEntity.getCompany() );				answerObject.put( "job", answerEntity.getJob() );				answerObject.put( "department", answerEntity.getPart() );				answerObject.put( "pku", answerEntity.getPku() );				answerObject.put( "sex", answerEntity.getSex() );				answerObject.put( "userid", answerEntity.getUserId() );				answerObject.put( "invisible", answerEntity.isInvisible() );								JSONArray inviteArray = new JSONArray();				final int inviteCount = answerEntity.getInvite().size();				for( int j = 0; j < inviteCount; j ++ )				{					inviteArray.put( answerEntity.getInvite().get( j ) );				}				answerObject.put( "inviteList", inviteArray );								JSONArray commentArray = new JSONArray();				final int commentCount = answerEntity.getCommentList().size();				for( int j = 0; j < commentCount; j ++ )				{					CommentEntity commentEntity = answerEntity.getCommentList().get( j );					JSONObject commentObject = new JSONObject();										commentObject.put( "id", commentEntity.getId() );					commentObject.put( "content", commentEntity.getCommentInfo() );					commentObject.put( "time", commentEntity.getTime() );					commentObject.put( "userId", commentEntity.getUserId() );					commentObject.put( "name", commentEntity.getUserName() );					commentObject.put( "headUrl", commentEntity.getUserHeadUrl() );					commentObject.put( "replyId", commentEntity.getReplyId() );					commentObject.put( "replyName", commentEntity.getReplyName() );										commentArray.put( commentObject );				}				answerObject.put( "comments", commentArray );								JSONArray praiseArray = new JSONArray();				final int praiseCount = answerEntity.getPraise().size();				for( int j = 0; j < praiseCount; j ++ )				{					praiseArray.put( answerEntity.getPraise().get( j ) );				}				answerObject.put( "praiseUserList", praiseArray );								answerArray.put( answerObject );			}			object.put( "answers", answerArray );						JSONArray commentArray = new JSONArray();			final int commentCount = entity.getCommentList().size();			for( int j = 0; j < commentCount; j ++ )			{				CommentEntity commentEntity = entity.getCommentList().get( j );				JSONObject commentObject = new JSONObject();								commentObject.put( "id", commentEntity.getId() );				commentObject.put( "content", commentEntity.getCommentInfo() );				commentObject.put( "time", commentEntity.getTime() );				commentObject.put( "userId", commentEntity.getUserId() );				commentObject.put( "name", commentEntity.getUserName() );				commentObject.put( "headUrl", commentEntity.getUserHeadUrl() );				commentObject.put( "replyId", commentEntity.getReplyId() );				commentObject.put( "replyName", commentEntity.getReplyName() );								commentArray.put( commentObject );			}			object.put( "comments", commentArray );								JSONArray inviteArray = new JSONArray();			final int inviteCount1 = entity.getInviteMeList().size();			for( int j = 0; j < inviteCount1; j ++ )			{				InviteEntity inviteEntity = entity.getInviteMeList().get( j );				JSONObject inviteObject = new JSONObject();								inviteObject.put( "src", inviteEntity.getInviterId() );				inviteObject.put( "srcName", inviteEntity.getName() );				inviteObject.put( "target", Information.Id );				inviteObject.put( "targetName", Information.Name );				inviteObject.put( "words", inviteEntity.getInviteInfo() );				inviteObject.put( "time", inviteEntity.getTime() );				inviteObject.put( "answered", inviteEntity.isHasAnswered() );								inviteArray.put( inviteObject );			}			final int inviteCount2 = entity.getMyInviteList().size();			for( int j = 0; j < inviteCount2; j ++ )			{				InviteEntity inviteEntity = entity.getMyInviteList().get( j );				JSONObject inviteObject = new JSONObject();								inviteObject.put( "target", inviteEntity.getInviterId() );				inviteObject.put( "targetName", inviteEntity.getName() );				inviteObject.put( "src", Information.Id );				inviteObject.put( "srcName", Information.Name );				inviteObject.put( "words", inviteEntity.getInviteInfo() );				inviteObject.put( "time", inviteEntity.getTime() );				inviteObject.put( "answered", inviteEntity.isHasAnswered() );								inviteArray.put( inviteObject );			}						object.put( "inviteInfos", inviteArray );						object.put( "userid", entity.getUserId() );			object.put( "name", entity.getUserName() );			object.put( "headUrl", entity.getUserHeadUrl() );			object.put( "job", entity.getJob() );			object.put( "company", entity.getCompany() );			object.put( "pku", entity.getPKU() );			object.put( "sex", entity.getSex() );			object.put( "invisible", entity.isInvisible() );						File file = new File( Information.File_Path + id + ".txt" );			if( file.exists() )			{				file.delete();			}			file.createNewFile();			FileOutputStream out = new FileOutputStream( file, false );			out.write( object.toString().getBytes( "utf-8" ) );			out.close();		}		catch( Exception ex )		{			ex.printStackTrace();		}	}	/**	 *  Load local question list from file	 */	public static List< QuestionEntity > loadLocalQuestionListFromFile( Context context, boolean isAll )	{		List< QuestionEntity > list = new ArrayList< QuestionEntity >();		try		{			String fileName = Information.File_Path + "question_all.txt";			if( isAll == false )			{				fileName = Information.File_Path + "question_me.txt";			}			File file = new File( fileName );			if( file.exists() )			{				StringBuilder jsonString = new StringBuilder();				InputStreamReader reader = new InputStreamReader( new FileInputStream( file ), "utf-8" );                BufferedReader bufferedReader = new BufferedReader( reader );                String lineTxt = null;                while( ( lineTxt = bufferedReader.readLine() ) != null )                {                	jsonString.append( lineTxt );                }                reader.close();                                return loadLocalQuestionListFromJson( jsonString.toString(), context );			}		}		catch( Exception ex ) {}		return list;	}	/**	 *  Load local question list from jsonString	 */	public static List< QuestionEntity > loadLocalQuestionListFromJson( String jsonString, Context context )	{		List< QuestionEntity > list = new ArrayList< QuestionEntity >();		try		{             JSONArray array = new JSONArray( jsonString );             final int count = array.length();             for( int i = 0 ; i < count; i ++ )             {            	 QuestionEntity entity = new QuestionEntity();          	                  JSONObject object = array.getJSONObject( i );                	                 loadQuestionListEntity( entity, object );                                  if( MyDatabaseHelper.getInstance( context ).judgeQuestionHasRead( entity.getId(), entity.getModifyTime() ) )                 {                	 entity.setNew( false );                 }                 else                 {                	 entity.setNew( true );                 }                                  if( MyDatabaseHelper.getInstance( context ).getQuestionModifyTime( entity.getId() ).equals( entity.getModifyTime() ) )                 {                	 entity.setUpdate( false );                 }                 else                 {                	 MyDatabaseHelper.getInstance( context ).updateQuestion( entity.getId(), entity.getModifyTime() );                	 if( !entity.isNew() )                	 {                		 entity.setUpdate( true );                	 }                	 else                	 {                		 entity.setUpdate( false );                	 }                 }                	                 list.add( entity );             }		}		catch( Exception ex ) 		{			ex.printStackTrace();		}		return list;	}	/**	 *  Load local question info	 */	public static QuestionEntity loadLocalQuestionInfoEntity( String id )	{		QuestionEntity entity = new QuestionEntity();		try		{			File file = new File( Information.File_Path + id + ".txt" );			StringBuilder jsonString = new StringBuilder();			InputStreamReader reader = new InputStreamReader( new FileInputStream( file ), "utf-8" );            BufferedReader bufferedReader = new BufferedReader( reader );            String lineTxt = null;            while( ( lineTxt = bufferedReader.readLine() ) != null )            {            	jsonString.append( lineTxt );            }            reader.close();                        JSONObject object = new JSONObject( jsonString.toString() );            loadQuestionInfoEntity( entity, object );		}		catch( Exception ex ) {}		return entity;	}	/**	 *  Load local question info	 */	public static JSONObject loadLocalQuestionInfoJSONObject( String id )	{		try		{			File file = new File( Information.File_Path + id + ".txt" );			StringBuilder jsonString = new StringBuilder();			InputStreamReader reader = new InputStreamReader( new FileInputStream( file ), "utf-8" );            BufferedReader bufferedReader = new BufferedReader( reader );            String lineTxt = null;            while( ( lineTxt = bufferedReader.readLine() ) != null )            {            	jsonString.append( lineTxt );            }            reader.close();            JSONObject object = new JSONObject( jsonString.toString() );            return object;		}		catch( Exception ex ) 		{			return new JSONObject();		}	}	/**	 *  Judge question info exists	 */	public static boolean judgeQuestionInfoExist( String id )	{		File file = new File( Information.File_Path + id + ".txt" );		return file.exists();	}	/**	 * 	 */	public static void loadQuestionListEntity( QuestionEntity questionEntity, JSONObject questionObject ) throws Exception	{		questionEntity.setId( questionObject.getString( "id" ) );		questionEntity.setQuestionTitle( questionObject.getString( "title" ) );		questionEntity.setQuestionInfo( questionObject.getString( "info" ) );		questionEntity.setPraiseCount( questionObject.getInt( "praiseCount" ) );				questionEntity.setCreateTime( questionObject.getString( "createTime" ) );		questionEntity.setModifyTime( questionObject.getString( "modifyTime" ) );    			questionEntity.setUserId( questionObject.getString( "userid" ) );		questionEntity.setUserName( questionObject.getString( "name" ) );		questionEntity.setUserHeadUrl( questionObject.getString( "headUrl" ) );		questionEntity.setCompany( questionObject.getString( "company" ) );		questionEntity.setPKU( questionObject.getString( "pku" ) );		questionEntity.setSex( questionObject.getInt( "sex" ) );    	questionEntity.setAnswerCount( questionObject.getInt( "answerCount" ) );    	questionEntity.setInvisible( questionObject.getBoolean( "invisible" ) );		    	JSONArray inviteArray1 = questionObject.getJSONArray( "inviterList" );		JSONArray inviteArray2 = questionObject.getJSONArray( "invitingList" );		final int inviteCount1 = inviteArray1.length();		List< InviteEntity > inivteMeList = new ArrayList< InviteEntity >( inviteCount1 );		for( int i = 0; i < inviteCount1; i ++ )		{			InviteEntity inviteEntity = new InviteEntity();						JSONObject inviteObject = inviteArray1.getJSONObject( i );			loadInviteEntity( inviteEntity, inviteObject );			inivteMeList.add( inviteEntity );		}		final int inviteCount2 = inviteArray2.length();		List< InviteEntity > myInivteList = new ArrayList< InviteEntity >( inviteCount2 );		for( int i = 0; i < inviteCount2; i ++ )		{			InviteEntity inviteEntity = new InviteEntity();						JSONObject inviteObject = inviteArray2.getJSONObject( i );			loadInviteEntity( inviteEntity, inviteObject );						myInivteList.add( inviteEntity );		}		questionEntity.setInviteMeList( inivteMeList );		questionEntity.setMyInviteList( myInivteList );//		JSONArray inviteArray = questionObject.getJSONArray( "inviteInfos" );//		final int inviteCount = inviteArray.length();//		List< InviteEntity > inivteMeList = new ArrayList< InviteEntity >();//		List< InviteEntity > myInivteList = new ArrayList< InviteEntity >();//		for( int i = 0; i < inviteCount; i ++ )//		{//			InviteEntity inviteEntity = new InviteEntity();		//			JSONObject inviteObject = inviteArray.getJSONObject( i );//	//			if( inviteObject.getString( "target" ).equals( Information.Id ) )//			{//				inviteEntity.setName( inviteObject.getString( "srcName" ) );//				inivteMeList.add( inviteEntity );//			}//			else if( inviteObject.getString( "src" ).equals( Information.Id ) )//			{//				inviteEntity.setName( inviteObject.getString( "targetName" ) );//				myInivteList.add( inviteEntity );//			}//		}//		questionEntity.setInviteMeList( inivteMeList );//		questionEntity.setMyInviteList( myInivteList );	}	/**	 *  Load question entity	 */	public static void loadQuestionInfoEntity( QuestionEntity questionEntity, JSONObject questionObject ) throws Exception	{		questionEntity.setId( questionObject.getString( "id" ) );		questionEntity.setQuestionTitle( questionObject.getString( "title" ) );		questionEntity.setQuestionInfo( questionObject.getString( "info" ) );		questionEntity.setPraiseCount( questionObject.getInt( "praiseCount" ) );				questionEntity.setCreateTime( questionObject.getString( "createTime" ) );		questionEntity.setModifyTime( questionObject.getString( "modifyTime" ) );		questionEntity.setUpdateTime( questionObject.getString( "updateTime" ) );		questionEntity.setHasAnswered( questionObject.getBoolean( "answered" ) );    			questionEntity.setUserId( questionObject.getString( "userid" ) );		questionEntity.setUserName( questionObject.getString( "name" ) );		questionEntity.setUserHeadUrl( questionObject.getString( "headUrl" ) );		questionEntity.setJob( questionObject.getString( "job" ) );		questionEntity.setCompany( questionObject.getString( "company" ) );		questionEntity.setPKU( questionObject.getString( "pku" ) );		questionEntity.setSex( questionObject.getInt( "sex" ) );		questionEntity.setInvisible( questionObject.getBoolean( "invisible" ) );    	    	JSONArray answerArray = questionObject.getJSONArray( "answers" );    	final int answerCount = answerArray.length();    	    	List< AnswerEntity > answerList = new ArrayList< AnswerEntity >( answerCount );    	for( int i = 0; i < answerCount; i ++ )    	{    		AnswerEntity answerEntity = new AnswerEntity();	    		answerEntity.setQuestionId( questionEntity.getId() );    		answerEntity.setQuestionTitle( questionEntity.getQuestionTitle() );    		    		JSONObject answerObject = answerArray.getJSONObject( i );    		loadAnswerEntity( answerEntity, answerObject );    		    		answerList.add( answerEntity );    	}    	questionEntity.setAnswerList( answerList );    	questionEntity.setAnswerCount( answerCount );    	    	JSONArray commentArray = questionObject.getJSONArray( "comments" );		final int commentCount = commentArray.length();		List< CommentEntity > commentList = new ArrayList< CommentEntity >( commentCount );		for( int i = 0; i < commentCount; i ++ )		{			CommentEntity commentEntity = new CommentEntity();			commentEntity.setQuestionId( questionEntity.getId() );			JSONObject commentObject = commentArray.getJSONObject( i );			loadCommentEntity( commentEntity, commentObject );						commentList.add( commentEntity );		}		questionEntity.setCommentList( commentList );		JSONArray inviteArray1 = questionObject.getJSONArray( "inviterList" );		JSONArray inviteArray2 = questionObject.getJSONArray( "invitingList" );		final int inviteCount1 = inviteArray1.length();		List< InviteEntity > inivteMeList = new ArrayList< InviteEntity >( inviteCount1 );		for( int i = 0; i < inviteCount1; i ++ )		{			InviteEntity inviteEntity = new InviteEntity();						JSONObject inviteObject = inviteArray1.getJSONObject( i );			loadInviteEntity( inviteEntity, inviteObject );			inivteMeList.add( inviteEntity );		}		final int inviteCount2 = inviteArray2.length();		List< InviteEntity > myInivteList = new ArrayList< InviteEntity >( inviteCount2 );		for( int i = 0; i < inviteCount2; i ++ )		{			InviteEntity inviteEntity = new InviteEntity();						JSONObject inviteObject = inviteArray2.getJSONObject( i );			loadInviteEntity( inviteEntity, inviteObject );						myInivteList.add( inviteEntity );		}		questionEntity.setInviteMeList( inivteMeList );		questionEntity.setMyInviteList( myInivteList );	}	/**	 *  Load answer entity	 */	public static void loadAnswerEntity( AnswerEntity answerEntity, JSONObject answerObject ) throws Exception	{		answerEntity.setId( answerObject.getString( "id" ) );		answerEntity.setCreateTime( answerObject.getString( "createTime" ) );		answerEntity.setModifyTime( answerObject.getString( "modifyTime" ) );		answerEntity.setAnswerInfo( answerObject.getString( "content" ) );		answerEntity.setInvisible( answerObject.getBoolean( "invisible" ) );		answerEntity.setHasPraised( answerObject.getBoolean( "praised" ) );		answerEntity.setPraiseCount( answerObject.getInt( "praiseCount" ) );				JSONArray inviteArray = answerObject.getJSONArray( "inviteList" );		final int inviteCount = inviteArray.length();		List< String > inviteList = new ArrayList< String >( inviteCount );		for( int i = 0; i < inviteCount; i ++ )		{			inviteList.add( inviteArray.getString( i ) );		}		answerEntity.setInvite( inviteList );				answerEntity.setCommentCount( answerObject.getInt( "commentCount" ) );		answerEntity.setCommentList( new ArrayList< CommentEntity >() );				List< String > praiseList = new ArrayList< String >();		answerEntity.setPraise( praiseList );				answerEntity.setUserId( answerObject.getString( "userid" ) );		answerEntity.setQuestionId( answerObject.getString( "questionId" ) );		answerEntity.setUserHeadUrl( answerObject.getString( "headUrl" ) );		answerEntity.setName( answerObject.getString( "name" ) );		answerEntity.setCompany( answerObject.getString( "company" ) );		answerEntity.setJob( answerObject.getString( "job" ) );		if( answerObject.has( "department" ) )		{			answerEntity.setPart( answerObject.getString( "department" ) );		}		answerEntity.setPku( answerObject.getString( "pku" ) );		answerEntity.setSex( answerObject.getInt( "sex" ) );	}	/**	 *  Load comment entity	 */	public static void loadCommentEntity( CommentEntity commentEntity, JSONObject commentObject ) throws Exception	{		commentEntity.setId( "" );		commentEntity.setCommentInfo( commentObject.getString( "content" ) );		commentEntity.setTime( commentObject.getString( "time" ) );				commentEntity.setUserId( commentObject.getString( "userId" ) );		commentEntity.setUserName( commentObject.getString( "name" ) );		commentEntity.setUserHeadUrl( commentObject.getString( "headUrl" ) );		if( commentObject.has( "replyId" ) )		{			commentEntity.setReplyId( commentObject.getString( "replyId" ) );		}		if( commentObject.has( "replyName" ) )		{			commentEntity.setReplyName( commentObject.getString( "replyName" ) );		}	}	/**	 *  Load invite entity	 */	public static void loadInviteEntity( InviteEntity inviteEntity, JSONObject inviteObject ) throws Exception	{		inviteEntity.setInviterId( inviteObject.getString( "userId" ) );		inviteEntity.setHeadUrl( inviteObject.getString( "headUrl" ) );		inviteEntity.setName( inviteObject.getString( "name" ) );		inviteEntity.setInviteInfo( inviteObject.getString( "words" ) );		inviteEntity.setTime( inviteObject.getString( "time" ) );		inviteEntity.setHasAnswered( inviteObject.getBoolean( "answered" ) );	}	/**	 *  Load answer list	 */	public static List< AnswerEntity > loadAnswerList( JSONArray answerArray )	{		List< AnswerEntity > answerList = new ArrayList< AnswerEntity >();		try		{			final int answerCount = answerArray.length();    		    	for( int i = 0; i < answerCount; i ++ )	    	{	    		AnswerEntity answerEntity = new AnswerEntity();		    		JSONObject answerObject = answerArray.getJSONObject( i );	    		loadAnswerEntity( answerEntity, answerObject );	    			    		answerList.add( answerEntity );	    	}		}		catch( Exception ex )		{			ex.printStackTrace();		}		return answerList;	}}